// Removed duplicate rules_version and service block
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Classes collection rules - Temporarily FULLY permissive for debugging
    match /classes/{classId} {
      // Temporarily allow all operations for debugging
      allow read, write: if true;
    }

    // Users collection rules - Temporarily FULLY permissive for debugging
    match /users/{userId} {
      // Temporarily allow all operations for debugging
      allow read, write: if true;
    }

    // Teachers collection rules - Temporarily FULLY permissive for debugging
    match /teachers/{teacherId} {
      // Temporarily allow all operations for debugging
      allow read, write: if true;
    }

    // Students collection rules - Temporarily FULLY permissive for debugging
    match /students/{studentId} {
      // Temporarily allow all operations for debugging
      allow read, write: if true;
    }

    // Subjects collection rules - Temporarily FULLY permissive for debugging
    match /subjects/{subjectId} {
      // Temporarily allow all operations for debugging
      allow read, write: if true;
    }

    // Add rules for other collections that might be missing
    match /pointTransactions/{transactionId} {
      allow read, write: if true;
    }

    match /grades/{gradeId} {
      allow read, write: if true;
    }

    match /messages/{messageId} {
      allow read, write: if true;
    }

    match /events/{eventId} {
      allow read, write: if true;
    }

    match /resources/{resourceId} {
      allow read, write: if true;
    }

  }
}