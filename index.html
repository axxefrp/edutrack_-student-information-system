<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- ðŸ‡±ðŸ‡· EduTrack Liberian SIS - Production Metadata -->
  <title>EduTrack - Liberian Student Information System</title>
  <meta name="description" content="Culturally authentic Student Information System designed specifically for Liberian educational institutions. Features WAEC grading, Ministry of Education compliance, and Liberian cultural integration.">
  <meta name="keywords" content="Liberian education, student information system, WAEC grading, Ministry of Education, Liberian schools, educational technology">
  <meta name="author" content="EduTrack Development Team">

  <!-- Open Graph / Social Media -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="EduTrack - Liberian Student Information System">
  <meta property="og:description" content="Culturally authentic educational platform for Liberian schools with WAEC grading and MoE compliance.">
  <meta property="og:site_name" content="EduTrack Liberian SIS">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="EduTrack - Liberian Student Information System">
  <meta name="twitter:description" content="Culturally authentic educational platform for Liberian schools.">

  <!-- Favicon and App Icons -->
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="icon" type="image/png" href="/favicon.png">

  <!-- Theme and App Configuration -->
  <meta name="theme-color" content="#BF0A30">
  <meta name="application-name" content="EduTrack Liberian SIS">
  <meta name="apple-mobile-web-app-title" content="EduTrack">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <!-- Tailwind CSS with Liberian Cultural Theme -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            // Liberian Flag Colors
            'liberian-red': '#BF0A30',
            'liberian-blue': '#002868',
            'liberian-white': '#FFFFFF',

            // Enhanced color palette with Liberian context
            primary: {"50":"#fef2f2","100":"#fee2e2","200":"#fecaca","300":"#fca5a5","400":"#f87171","500":"#BF0A30","600":"#dc2626","700":"#b91c1c","800":"#991b1b","900":"#7f1d1d","950":"#450a0a"},
            secondary: {"50":"#eff6ff","100":"#dbeafe","200":"#bfdbfe","300":"#93c5fd","400":"#60a5fa","500":"#3b82f6","600":"#002868","700":"#1d4ed8","800":"#1e40af","900":"#1e3a8a","950":"#172554"},
            success: {"50":"#f0fdf4","100":"#dcfce7","200":"#bbf7d0","300":"#86efac","400":"#4ade80","500":"#22c55e","600":"#16a34a","700":"#15803d","800":"#166534","900":"#14532d","950":"#052e16"},
            warning: {"50":"#fffbeb","100":"#fef3c7","200":"#fde68a","300":"#fcd34d","400":"#fbbf24","500":"#f59e0b","600":"#d97706","700":"#b45309","800":"#92400e","900":"#78350f","950":"#451a03"},
            error: {"50":"#fef2f2","100":"#fee2e2","200":"#fecaca","300":"#fca5a5","400":"#f87171","500":"#ef4444","600":"#dc2626","700":"#b91c1c","800":"#991b1b","900":"#7f1d1d","950":"#450a0a"}
          },
          fontFamily: {
            sans: ['-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'sans-serif']
          },
          fontSize: {
            'xs': ['0.75rem', { lineHeight: '1.5' }],
            'sm': ['0.875rem', { lineHeight: '1.5' }],
            'base': ['1rem', { lineHeight: '1.5' }],
            'lg': ['1.125rem', { lineHeight: '1.5' }],
            'xl': ['1.25rem', { lineHeight: '1.25' }],
            '2xl': ['1.5rem', { lineHeight: '1.25' }],
            '3xl': ['1.875rem', { lineHeight: '1.25' }],
            '4xl': ['2.25rem', { lineHeight: '1.25' }]
          },
          boxShadow: {
            'focus': '0 0 0 3px rgba(191, 10, 48, 0.5)',
            'focus-error': '0 0 0 3px rgba(239, 68, 68, 0.5)',
            'focus-success': '0 0 0 3px rgba(34, 197, 94, 0.5)',
            'liberian': '0 8px 32px rgba(191, 10, 48, 0.15)'
          }
        }
      }
    }
  </script>
<script type="importmap">
{
  "imports": {
    "react/": "https://esm.sh/react@^19.1.0/",
    "react": "https://esm.sh/react@^19.1.0",
    "react-dom/": "https://esm.sh/react-dom@^19.1.0/",
    "react-router-dom": "https://esm.sh/react-router-dom@^7.6.2",
    "recharts": "https://esm.sh/recharts@^2.12.7",
    "firebase/app": "https://esm.sh/firebase@^10.12.4/app",
    "firebase/auth": "https://esm.sh/firebase@^10.12.4/auth",
    "firebase/firestore": "https://esm.sh/firebase@^10.12.4/firestore",
    "firebase/": "https://esm.sh/firebase@^11.9.1/"
  }
}
</script>
<link rel="stylesheet" href="/design-system.css">
</head>
<body class="bg-gray-100 dark:bg-gray-900">
  <!-- ðŸ‡±ðŸ‡· EduTrack Application Root -->
  <div id="root">
    <!-- Unified Loading screen with Liberian cultural context -->
    <div id="initial-loader" class="min-h-screen bg-gradient-to-br from-red-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center">
      <div class="text-center">
        <div class="text-6xl mb-4 animate-pulse">ðŸ‡±ðŸ‡·</div>
        <h1 class="text-2xl font-bold text-red-700 dark:text-red-400 mb-2">EduTrack</h1>
        <p id="loading-message" class="text-blue-700 dark:text-blue-400 font-medium mb-4">Initializing Liberian Student Information System...</p>
        <div class="flex justify-center mb-4">
          <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-red-600"></div>
        </div>
        <!-- Progress indicator -->
        <div class="w-64 bg-gray-200 rounded-full h-2 mx-auto">
          <div id="progress-bar" class="bg-red-600 h-2 rounded-full transition-all duration-500" style="width: 10%"></div>
        </div>
        <p id="progress-text" class="text-sm text-gray-600 dark:text-gray-400 mt-2">Loading application...</p>
      </div>
    </div>
  </div>

  <!-- GitHub Pages SPA Routing Support -->
  <script>
    // Handle GitHub Pages SPA routing
    (function() {
      var redirect = sessionStorage.redirect;
      delete sessionStorage.redirect;
      if (redirect && redirect != location.href) {
        history.replaceState(null, null, redirect);
      }
    })();
  </script>

  <!-- Loading Progress Management -->
  <script>
    window.EduTrackLoader = {
      updateProgress: function(percent, message) {
        const progressBar = document.getElementById('progress-bar');
        const progressText = document.getElementById('progress-text');
        const loadingMessage = document.getElementById('loading-message');

        if (progressBar) progressBar.style.width = percent + '%';
        if (progressText) progressText.textContent = message || 'Loading...';
        if (loadingMessage && percent > 50) {
          loadingMessage.textContent = 'Connecting to Firebase services...';
        }
      },

      hide: function() {
        const loader = document.getElementById('initial-loader');
        if (loader) {
          loader.style.opacity = '0';
          loader.style.transition = 'opacity 0.5s ease-out';
          setTimeout(() => {
            if (loader.parentNode) {
              loader.parentNode.removeChild(loader);
            }
          }, 500);
        }
      }
    };

    // Simulate initial loading progress
    let progress = 10;
    const progressInterval = setInterval(() => {
      progress += Math.random() * 15;
      if (progress > 90) progress = 90;
      window.EduTrackLoader.updateProgress(progress, 'Loading application components...');

      if (progress >= 90) {
        clearInterval(progressInterval);
      }
    }, 200);
  </script>

  <script type="module" src="/index.tsx"></script>
</body>
</html>